# day02-错误处理封装

---

### 1. **重构了错误处理逻辑**：

- 你编写了一个通用的错误处理函数 `Errorif`，用于统一处理可能发生的错误。它的功能是：
  
  - 接受一个布尔值 `b` 和一个字符串 `s`。
  - 如果条件 `b` 为 `true`（表示发生了错误），则打印错误信息 `s` 并退出程序。

- 错误处理逻辑独立到了一个单独的文件中（`Errorif.h`），从而实现了代码的模块化和复用性。
  
  ```cpp
  void Errorif(bool b, char* s) {
    if (b == true) {
        perror(s);
        exit(EXIT_FAILURE);
    }
  }
  ```

---

### 2. **提高了代码的可维护性和可读性**：

- 将错误处理逻辑封装成一个函数后：
  - **可维护性**：当需要修改错误处理的逻辑时，只需修改 `Errorif` 函数，无需修改所有调用的地方。
  - **可读性**：调用 `Errorif` 函数后，代码的重点逻辑更加突出，减少了冗余的 `if` 判断代码，代码流更加清晰。

---

### 3. **实现了代码模块化**：

- 你将错误处理逻辑单独放到了一个头文件 `Errorif.h` 中，这样可以在多个文件中复用。
- 如果客户端代码中也需要类似的错误处理逻辑，只需引入 `Errorif.h`，而不需要重复编写错误处理的代码。

---

### 工作成果

- **新增一个通用的错误处理函数 (`Errorif`)**，实现了错误处理逻辑的统一。
- **重构服务端代码中的错误处理部分**，使代码更加简洁、清晰，减少了重复代码。
- **增强了代码的模块化和复用性**，通过将错误处理逻辑独立到 `Errorif.h` 中，提升了项目的可维护性。
- **为未来扩展奠定基础**，客户端或其他模块可以直接复用 `Errorif` 函数。
